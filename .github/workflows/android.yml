# Nome do fluxo de trabalho de teste
name: Teste de Configuração Flutter

# Gatilhos para iniciar o fluxo de trabalho
on:
  push:
    branches:
      - main # Aciona a cada push para o branch 'main'
  workflow_dispatch: # Permite acionar manualmente pela interface do GitHub

# Trabalhos a serem executados
jobs:
  test-setup:
    # O tipo de máquina virtual que o trabalho será executado
    runs-on: ubuntu-latest

    steps:
      # 1. Clona o seu repositório para a máquina virtual
      - name: 1. Clonar o repositório
        uses: actions/checkout@v4

      # 2. Configura o ambiente Flutter
      - name: 2. Configurar o Flutter
        uses: subosito/flutter-action@v2
        with:
          flutter-version: '3.19.6' # Versão específica do Flutter
          channel: 'stable'
          cache: true # Habilita o cache para agilizar builds futuros

      # 3. Verifica a versão do Flutter para confirmar a instalação
      - name: 3. Verificar a versão do Flutter
        run: flutter --version

      # 4. Instala as dependências do projeto a partir do pubspec.yaml
      - name: 4. Instalar dependências
        run: flutter pub get

      # 5. Analisa o código para encontrar erros de sintaxe e estilo
      - name: 5. Analisar o código
        run: flutter analyze

      # --- O PASSO DE COMPILAÇÃO FOI REMOVIDO INTENCIONALMENTE PARA ESTE TESTE ---
